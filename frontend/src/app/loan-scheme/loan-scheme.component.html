<mat-card>
    <mat-card-title>Loan Scheme</mat-card-title>
    <mat-divider></mat-divider>
    <mat-card-content>
        <form [formGroup]="loanSchemeForm" autocomplete="off">
            <div class="container">
                <div class="row">
                    <div class="col-2">
                        <mat-label>DDAP Bank</mat-label>
                    </div>
                    <div class="col-10">
                        <mat-radio-group formControlName="ddapBank">
                            <mat-radio-button value="bank">Bank</mat-radio-button>
                            <mat-radio-button value="audit_firm">Audit Firm</mat-radio-button>
                        </mat-radio-group>
                        <mat-error>{{pageErrors.status}}</mat-error>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2">
                        <mat-label>Credit Sector</mat-label>
                    </div>
                    <div class="col-10">
                        <mat-radio-group formControlName="creditSector">
                            <mat-radio-button value="retail_credit">Retail Credit</mat-radio-button>
                            <mat-radio-button value="commericial_credit">Commericial Credit</mat-radio-button>
                        </mat-radio-group>
                        <mat-error>{{pageErrors.status}}</mat-error>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2">
                        <mat-label>Template Option</mat-label>
                    </div>
                    <div class="col-10">
                        <mat-radio-group formControlName="templateOption">
                            <mat-radio-button value="temp_without_risk">Template W/o Risk Score</mat-radio-button>
                            <mat-radio-button value="temp_with_risk">Template with Risk Score</mat-radio-button>
                        </mat-radio-group>
                        <mat-error>{{pageErrors.status}}</mat-error>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2">
                        <mat-label>Language Template</mat-label>
                    </div>
                    <div class="col-10">
                        <mat-form-field>
                            <mat-select formControlName="languageTemplate" name="Select Language Template">
                                <mat-option *ngFor="let eachOption of customOptions" [value]="eachOption.value">
                                    {{eachOption.viewValue}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2">
                        <mat-label>Loan Scheme Name</mat-label>
                    </div>
                    <div class="col-10">
                        <!-- Start form units array with first row must and dynamically add more -->
                        <div formArrayName="schemeData">
                           


                            <!-- loop through -->
                            <div
                                *ngFor="let eachSchemeData of getLoanSchemeArrayControl(); let i=index">

                                <!-- row divider show for every nex row exclude if first row -->
                                <mat-divider *ngIf="getLoanSchemeArrayControl().length > 1 && i > 0">
                                </mat-divider><br>

                                <!-- group name in this case row index -->
                                <div [formGroupName]="i">
                                    <div class="row">
                                        <div class="col-3">
                                            <mat-label>Scheme Name</mat-label>
                                            <mat-form-field>
                                                <input matInput placeholder="" formControlName="schemeName">
                                            </mat-form-field>
                                            <mat-error>{{pageErrors.schemeName}}</mat-error>
                                        </div>
                                        <div class="col-3">
                                            <mat-label>Enter Keyword</mat-label>
                                            <mat-form-field>
                                                <input matInput placeholder="" formControlName="schemeKeyword">
                                            </mat-form-field>
                                            <mat-error>{{pageErrors.schemeKeyword}}</mat-error>
                                        </div>
                                        <div class="col-5">
                                            <mat-label>Autogenerate Worksheet Name For Import</mat-label>
                                            <mat-form-field>
                                                <input matInput placeholder="" formControlName="schemeWorksheetName">
                                            </mat-form-field>
                                            <mat-error>{{pageErrors.schemeWorksheetName}}</mat-error>
                                        </div>
                                        <div class="col-1">
                                            <button mat-mini-fab color="warn"
                                                *ngIf="loanSchemeForm.controls.schemeData.controls.length > 0"
                                                (click)="removeUnit(i)">
                                                <mat-icon>delete forever</mat-icon>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- New unit button -->
                            <mat-divider></mat-divider>
                            <div class="row">
                                <button mat-raised-button (click)="addUnit()">
                                    <mat-icon>add</mat-icon>
                                </button>
                            </div>
                        </div> <!-- End form units array -->
                    </div>
                </div>


            </div>
        </form>
    </mat-card-content>


    <mat-card-footer>
        <div class="row actionbutton">
            <div class="col-2"></div>
            <div class="col-4">
                <button mat-button>Submit</button>
            </div>
            <div class="col-4">
                <button mat-button>Cancel</button>
            </div>

        </div>
    </mat-card-footer>

</mat-card>